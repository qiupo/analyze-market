# 智策波段交易助手 (BandMaster Pro)

基于波段交易的股票分析系统，提供智能波段识别、买卖点决策和风险管理功能。

![Python](https://img.shields.io/badge/Python-3.8+-blue)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

## 🎯 产品特色

### 三准原则
- **波段识别准**：多周期协同分析
- **买卖点位准**：主力资金验证  
- **仓位控制准**：动态风险管理

### 核心功能
- 🔍 **智能波段扫描**：自动识别微型、短线、标准、趋势四种波段类型
- 📊 **六维信号验证**：趋势方向、动量强度、量能配合、资金验证、形态确认、市场环境
- 💰 **精准买卖点**：基于信号强度的决策矩阵
- 🛡️ **动态仓位管理**：底仓+加仓+补仓+T+0策略
- ⚠️ **完整风控体系**：阶梯止盈、移动止损、时间止损、紧急止损

## 🚀 快速开始

### 环境要求
- Python 3.8+
- 稳定的网络连接（用于获取股票数据）

### 安装步骤

1. **克隆项目**
```bash
git clone <your-repo-url>
cd analyzeMarket
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **安装TA-Lib**（技术分析库）

**Windows用户：**
```bash
# 下载预编译包
pip install TA-Lib
```

**macOS用户：**
```bash
brew install ta-lib
pip install TA-Lib
```

**Linux用户：**
```bash
sudo apt-get install libta-lib-dev
pip install TA-Lib
```

4. **启动应用**
```bash
streamlit run app.py
```

5. **访问应用**
打开浏览器访问：`http://localhost:8501`

## 📖 使用指南

### 基本操作
1. 在左侧输入6位股票代码（如：000001、000002）
2. 选择分析周期（建议100天）
3. 点击"🔍 开始分析"按钮
4. 查看完整的波段分析报告

### 界面说明

#### 📊 股票概览
显示股票基本信息、当前价格、涨跌幅和信号强度

#### 📈 技术分析图表
- **K线图**：价格走势、移动平均线、布林带
- **MACD指标**：趋势动量分析
- **RSI指标**：超买超卖判断
- **成交量**：量价配合分析

#### 🎯 操作建议卡
根据六维信号验证生成的具体操作建议：
- 操作类型：重仓买入、标准买入、轻仓试单、保持观望
- 建议仓位比例
- 目标价位和止损价位
- 预期持有周期

#### ⚠️ 风险管理看板
- 仓位分配策略（底仓、突破加仓、回调补仓、机动T+0）
- 止盈止损设置（阶梯止盈、移动止损、时间止损）

## 📋 技术架构

```
analyzeMarket/
├── app.py                 # 主应用程序
├── data_fetcher.py        # 数据获取模块
├── technical_analysis.py  # 技术分析引擎
├── visualization.py       # 可视化模块
├── requirements.txt       # 项目依赖
└── README.md             # 项目说明
```

### 技术栈
- **前端框架**：Streamlit
- **数据获取**：AkShare
- **技术分析**：TA-Lib
- **可视化**：Plotly
- **数据处理**：Pandas、NumPy

## 🔧 配置说明

### 数据源配置
系统默认使用AkShare获取股票数据，包括：
- 实时行情数据
- 历史K线数据  
- 资金流向数据
- 基本面信息

### 缓存设置
- 数据缓存时间：5分钟
- 避免频繁请求，提高响应速度

## 📊 信号解读

### 波段类型识别
| 波段类型 | 周期范围 | 特征描述 |
|---------|---------|---------|
| 微型波段 | 15-30分钟 | 短期高波动+量能突击 |
| 短线波段 | 1-3天 | 布林带收口+MACD金叉 |
| 标准波段 | 5-15天 | 20日均线斜率>30° |
| 趋势波段 | 15-30天 | 60日EMA+ADX指标 |

### 买卖决策矩阵
| 信号数量 | 操作建议 | 仓位比例 | 持有周期 |
|---------|---------|---------|---------|
| ≥5个信号 | 重仓买入 | 70%-80% | 5-15天 |
| 3-4个信号 | 标准买入 | 40%-50% | 3-7天 |
| 2个信号 | 轻仓试单 | 10%-20% | 1-3天 |
| ≤1个信号 | 保持观望 | 0% | - |

## ⚠️ 风险提示

**重要声明**：
- 本系统分析结果基于历史数据与量化模型，不构成任何投资建议
- 使用者需独立承担投资决策风险
- 建议结合个人风险承受能力谨慎参考
- 股市有风险，投资需谨慎

### 系统限制
- 数据延迟：实时数据可能有1-2分钟延迟
- 市场适用性：主要适用于A股市场
- 极端行情：系统在极端市场条件下可能失效

## 🛠️ 故障排除

### 常见问题

1. **无法获取股票数据**
   - 检查股票代码格式（6位数字）
   - 确认网络连接正常
   - 尝试更换股票代码

2. **TA-Lib安装失败**
   - 参考官方文档安装系统依赖
   - 使用预编译包
   - 考虑使用conda安装

3. **页面加载缓慢**
   - 检查网络状况
   - 减少分析周期天数
   - 清除浏览器缓存

## 📝 更新日志

### V1.0 (当前版本)
- ✅ 基础波段识别功能
- ✅ 六维信号验证系统
- ✅ 买卖点决策引擎
- ✅ 风险管理模块
- ✅ 可视化分析图表
- ✅ Web界面交互

### 计划功能
- 🔄 回测系统
- 📱 移动端适配
- 🔔 信号推送功能
- 📈 多股票对比分析
- 🤖 机器学习优化

## 📞 技术支持

如遇到问题或有改进建议，请：
1. 查看FAQ部分
2. 提交Issue反馈
3. 参考技术文档

## 📄 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

---

**免责声明**：本软件仅供学习和研究使用，使用者需自行承担投资风险。 